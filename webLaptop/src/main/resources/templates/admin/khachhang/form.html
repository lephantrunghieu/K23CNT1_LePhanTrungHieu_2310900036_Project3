<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${pageTitle}">Form Khách hàng</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8 font-sans">
<div class="max-w-xl mx-auto bg-white p-6 rounded-lg shadow-xl">
  <h1 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2" th:text="${pageTitle}">Form Khách hàng</h1>

  <form th:action="@{/admin/khachhang/save}" method="post" th:object="${khachhang}" class="space-y-4">

    <input type="hidden" th:field="*{makh}" />

    <div>
      <label for="tenkh" class="block text-sm font-medium text-gray-700">Tên Khách hàng</label>
      <input type="text" th:field="*{tenkh}" id="tenkh" required
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500" />
    </div>

    <div>
      <label for="diachi" class="block text-sm font-medium text-gray-700">Địa chỉ</label>
      <textarea th:field="*{diachi}" id="diachi"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
    </div>

    <div>
      <label for="sdt" class="block text-sm font-medium text-gray-700">Số điện thoại</label>
      <input type="text" th:field="*{sdt}" id="sdt"
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500" />
    </div>

    <div th:if="${khachhang.makh == null}">
      <label for="username" class="block text-sm font-medium text-gray-700">Tên Tài khoản (Username)</label>
      <input type="text" th:field="*{taikhoan.taikhoan}" id="username" required
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500" />
    </div>

    <div th:if="${khachhang.makh == null}">
      <label for="plainPassword" class="block text-sm font-medium text-gray-700">Mật khẩu</label>
      <input type="password" name="plainPassword" id="plainPassword" required
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500" />
    </div>

    <div th:if="${khachhang.makh != null}">
      <label for="currentAccount" class="block text-sm font-medium text-gray-700">Tài khoản hiện tại</label>
      <input type="text" th:value="${khachhang.taikhoan.taikhoan}" id="currentAccount" readonly
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-gray-50" />
    </div>

    <div class="pt-4 flex justify-end space-x-3">
      <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition duration-200">
        Lưu
      </button>
      <a th:href="@{/admin/khachhang}" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded transition duration-200">
        Hủy
      </a>
    </div>
  </form>
</div>
</body>
</html>