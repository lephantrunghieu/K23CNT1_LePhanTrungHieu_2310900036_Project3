<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Trang Ch盻ｧ - Web Bﾃ｡n Mﾃ｡y Tﾃｭnh</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans">

<nav class="bg-indigo-700 p-4 shadow text-white">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
        <a href="/" class="text-xl font-bold">汳ｻ Web Bﾃ｡n Mﾃ｡y Tﾃｭnh</a>

        <div>
            <div sec:authorize="isAuthenticated()" class="flex items-center gap-3">
                <span>Xin chﾃo,
                    <b sec:authentication="name"></b>
                </span>

                <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin/dashboard}"
                   class="bg-yellow-400 text-black px-3 py-1 rounded text-sm">
                    Admin
                </a>

                <form th:action="@{/logout}" method="post">
                    <button class="bg-red-500 px-3 py-1 rounded text-sm">
                        ﾄ斉ハg xu蘯･t
                    </button>
                </form>
            </div>

            <div sec:authorize="!isAuthenticated()">
                <a th:href="@{/login}" class="bg-white text-indigo-700 px-4 py-1 rounded">
                    ﾄ斉ハg nh蘯ｭp
                </a>
            </div>
        </div>
    </div>
</nav>

<div class="relative max-w-7xl mx-auto mt-6 overflow-hidden rounded-xl shadow">
    <div id="carousel" class="flex transition-transform duration-700">

        <div th:each="s : ${listSlide}" class="min-w-full relative">
            <a th:href="@{${s.lienket}}">
                <img th:src="@{${s.hinhanh}}" class="w-full h-[380px] object-cover">

                <div class="absolute inset-0 bg-black/40 flex items-end">
                    <h2 class="text-white text-2xl font-bold p-6"
                        th:text="${s.tieude}">
                    </h2>
                </div>
            </a>
        </div>

    </div>

    <button onclick="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2
            bg-white/70 p-3 rounded-full">笶ｮ</button>

    <button onclick="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2
            bg-white/70 p-3 rounded-full">笶ｯ</button>
</div>

<div class="max-w-7xl mx-auto mt-12 px-4">
    <h2 class="text-2xl font-bold mb-6">沐･ Hﾃ｣ng n盻品 b蘯ｭt</h2>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <a th:each="h : ${brands}" th:href="@{'/category/' + ${h.duongdan}}"
           class="bg-white shadow rounded-lg p-6 text-center hover:scale-105 transition">

            <h3 class="font-bold text-lg text-indigo-600"
                th:text="${h.tenhang}">
                ASUS
            </h3>
        </a>
    </div>
</div>

<div class="max-w-7xl mx-auto mt-14 px-4">
    <h2 class="text-2xl font-bold mb-6">汳 S蘯｣n ph蘯ｩm n盻品 b蘯ｭt</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">

        <div th:each="mt : ${listMaytinh}"
             class="bg-white shadow rounded-lg overflow-hidden hover:shadow-xl transition">

            <img th:src="@{${mt.hinhanh}}"
                 class="w-full h-52 object-cover">

            <div class="p-4">
                <h3 class="font-semibold text-gray-800"
                    th:text="${mt.tenmt}">
                    Laptop Gaming
                </h3>

                <p class="text-red-600 font-bold mt-2"
                   th:text="${#numbers.formatDecimal(mt.gia, 0, 'POINT', 0, 'COMMA')} + ' 竄ｫ'">
                    25,000,000 竄ｫ
                </p>

                <a th:href="@{'/product/' + ${mt.mamt}}"
                   class="block text-center mt-3 bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700">
                    Xem chi ti蘯ｿt
                </a>
            </div>
        </div>

    </div>
</div>

<footer class="bg-gray-800 text-gray-300 mt-20 p-6 text-center">
    ﾂｩ 2025 Web Bﾃ｡n Mﾃ｡y Tﾃｭnh | All Rights Reserved
</footer>

<script>
    let index = 0;
    const carousel = document.getElementById("carousel");
    const total = carousel.children.length;

    function showSlide(i) {
        index = (i + total) % total;
        carousel.style.transform = `translateX(${-index * 100}%)`;
    }

    function nextSlide() {
        showSlide(index + 1);
    }

    function prevSlide() {
        showSlide(index - 1);
    }

    setInterval(nextSlide, 4000);
</script>

</body>
</html>
